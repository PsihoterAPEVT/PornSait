<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SWILL ‚Ä¢ CONTROL PANEL</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <header class="admin-header">
        <div class="logo">‚ö° SWILL ADMIN</div>
        <div class="admin-controls">
            <span class="admin-badge">–í–õ–ê–î–ï–õ–ï–¶</span>
            <a href="{{ url_for('index') }}" class="btn-small">–ù–ê –°–ê–ô–¢</a>
            <a href="{{ url_for('admin_logout') }}" class="btn-small btn-danger">–í–´–ô–¢–ò</a>
        </div>
    </header>

    <div class="admin-container">
        <!-- –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
        <div class="admin-stats">
            <div class="stat-card">
                <div class="stat-value">${{ "{:,}".format(earnings.total) }}</div>
                <div class="stat-label">–û–ë–©–ò–ô –î–û–•–û–î</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">${{ "{:,}".format(earnings.today) }}</div>
                <div class="stat-label">–°–ï–ì–û–î–ù–Ø</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">{{ videos|length }}</div>
                <div class="stat-label">–í–ò–î–ï–û</div>
            </div>
        </div>

        <!-- –§–û–†–ú–ê –ó–ê–ì–†–£–ó–ö–ò -->
        <div class="upload-section purple-border">
            <h2>üì§ –ó–ê–ì–†–£–ó–ò–¢–¨ –ù–û–í–û–ï –í–ò–î–ï–û</h2>
            
            {% if request.args.get('success') %}
            <div class="success-message">
                ‚úÖ –í–ò–î–ï–û –£–°–ü–ï–®–ù–û –ó–ê–ì–†–£–ñ–ï–ù–û ‚Ä¢ –ü–†–ò–ë–´–õ–¨ –ù–ê–ß–ò–°–õ–ï–ù–ê
            </div>
            {% endif %}
            
            <form method="POST" action="{{ url_for('upload_video') }}" enctype="multipart/form-data">
                <div class="form-group">
                    <label>–ù–ê–ó–í–ê–ù–ò–ï –í–ò–î–ï–û</label>
                    <input type="text" name="title" class="purple-input" required>
                </div>
                
                <div class="form-group">
                    <label>–û–ü–ò–°–ê–ù–ò–ï</label>
                    <textarea name="description" class="purple-input" rows="4" required></textarea>
                </div>
                
                <div class="form-group">
                    <label>–í–ò–î–ï–û –§–ê–ô–õ (MP4)</label>
                    <input type="file" name="video" accept="video/*" class="file-input" required>
                </div>
                
                <div class="form-group">
                    <label>–ü–†–ï–í–¨–Æ (JPG, PNG)</label>
                    <input type="file" name="thumbnail" accept="image/*" class="file-input" required>
                </div>
                
                <button type="submit" class="btn btn-purple btn-large">
                    üöÄ –û–ü–£–ë–õ–ò–ö–û–í–ê–¢–¨ –ò –ó–ê–†–ê–ë–û–¢–ê–¢–¨
                </button>
            </form>
        </div>

        <!-- –°–ü–ò–°–û–ö –í–ò–î–ï–û -->
        <div class="videos-list">
            <h3>üìã –ó–ê–ì–†–£–ñ–ï–ù–ù–´–ï –í–ò–î–ï–û</h3>
            <div class="video-table">
                {% for video in videos|reverse %}
                <div class="video-row">
                    <div class="video-id">#{{ video.id }}</div>
                    <div class="video-title">{{ video.title }}</div>
                    <div class="video-views">{{ "{:,}".format(video.views) }} –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</div>
                    <div class="video-date">{{ video.created_at[:10] }}</div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</body>
</html>