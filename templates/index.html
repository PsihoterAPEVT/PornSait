<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SWILL - PREMIUM ADULT</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="{{ url_for('static', filename='script.js') }}" defer></script>
</head>
<body>
    <header>
        <div class="logo">‚ö° SWILL STREAM</div>
        <div class="header-controls">
            <div class="live-earnings">
                <span>üí∞ LIVE:</span>
                <span id="today-earnings">${{ "{:,}".format(earnings.today) }}</span>
            </div>
            <a href="{{ url_for('admin') }}" class="owner-btn">OWNER</a>
        </div>
    </header>

    <div class="container">
        <!-- AD SPACE - $10,000/DAY -->
        <div class="ad-unit">
            <div class="ad-content">PREMIUM AD SPACE ‚Ä¢ $10,000/DAY</div>
        </div>

        <!-- –°–¢–ê–¢–ò–°–¢–ò–ö–ê –î–û–•–û–î–û–í -->
        <div class="stats-container">
            <div class="stat-card purple-glow">
                <div class="stat-value">${{ "{:,}".format(earnings.total) }}</div>
                <div class="stat-label">–í–°–ï–ì–û –ó–ê–†–ê–ë–û–¢–ê–ù–û</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">${{ "{:,}".format(earnings.week) }}</div>
                <div class="stat-label">–ó–ê –ù–ï–î–ï–õ–Æ</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="today-stat">${{ "{:,}".format(earnings.today) }}</div>
                <div class="stat-label">–°–ï–ì–û–î–ù–Ø</div>
            </div>
        </div>

        <!-- –ü–†–ï–ú–ò–£–ú –ö–û–ù–¢–ï–ù–¢ -->
        <div class="content-header">
            <h1 class="gradient-text">–ü–†–ï–ú–ò–£–ú –ö–û–õ–õ–ï–ö–¶–ò–Ø</h1>
            <span class="age-restriction">18+ ONLY</span>
        </div>

        <div class="video-grid">
            {% for video in videos|reverse %}
            <div class="video-card">
                <div class="thumbnail-container">
                    {% if video.thumbnail and video.thumbnail != '' %}
                    <img src="{{ url_for('uploaded_file', filename=video.thumbnail) }}" alt="Thumbnail" class="video-thumbnail">
                    {% else %}
                    <div class="thumbnail-placeholder">üé¨</div>
                    {% endif %}
                    <div class="video-duration">PREMIUM</div>
                </div>
                <div class="video-info">
                    <div class="video-meta">
                        <span class="premium-badge">‚≠ê PREMIUM</span>
                        <span class="views-count">üî• {{ "{:,}".format(video.views) }} –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</span>
                    </div>
                    <h3 class="video-title">{{ video.title }}</h3>
                    <p class="video-description">{{ video.description }}</p>
                    <button class="btn btn-purple" onclick="window.location.href='/video/{{ video.id }}'">
                        –°–ú–û–¢–†–ï–¢–¨ –°–ï–ô–ß–ê–°
                    </button>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-logo">SWILL NETWORK</div>
            <div class="footer-copyright">¬© 2026 ‚Ä¢ PREMIUM ADULT ENTERTAINMENT</div>
            <div class="footer-purple">–§–ò–û–õ–ï–¢–û–í–ê–Ø –û–ë–í–û–î–ö–ê ‚Ä¢ –¢–ï–ú–ù–ê–Ø –¢–ï–ú–ê</div>
        </div>
    </footer>

    <script>
        // –ê–í–¢–û–û–ë–ù–û–í–õ–ï–ù–ò–ï –ü–†–ò–ë–´–õ–ò
        setInterval(() => {
            fetch('/api/earnings')
                .then(res => res.json())
                .then(data => {
                    document.getElementById('today-earnings').innerHTML = '$' + data.today.toLocaleString();
                    document.getElementById('today-stat').innerHTML = '$' + data.today.toLocaleString();
                    
                    // –û–ë–ù–û–í–õ–Ø–ï–ú –í–°–ï –ö–ê–†–¢–û–ß–ö–ò
                    document.querySelectorAll('.stat-card .stat-value')[0].innerHTML = '$' + data.total.toLocaleString();
                    document.querySelectorAll('.stat-card .stat-value')[1].innerHTML = '$' + data.week.toLocaleString();
                    document.querySelectorAll('.stat-card .stat-value')[2].innerHTML = '$' + data.today.toLocaleString();
                });
        }, 5000);
    </script>
</body>
</html>